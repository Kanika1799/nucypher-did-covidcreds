{"version":3,"sources":["Searchbar.tsx"],"names":["Searchbar","clear","props","onChangeText","args","root","setNativeProps","isFocused","focus","blur","clearAccessibilityLabel","clearIcon","icon","customIconColor","iconColor","inputStyle","onIconPress","placeholder","searchAccessibilityLabel","style","theme","value","rest","colors","roundness","dark","fonts","textColor","text","font","regular","alpha","rgb","string","rippleColor","borderRadius","elevation","styles","container","size","color","I18nManager","isRTL","input","primary","c","handleClearPress","React","Component","StyleSheet","create","flexDirection","alignItems","flex","fontSize","paddingLeft","alignSelf","textAlign","minWidth"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  StyleSheet,\n  StyleProp,\n  TextInput,\n  I18nManager,\n  ViewStyle,\n  TextStyle,\n} from 'react-native';\n\nimport color from 'color';\nimport IconButton from './IconButton';\nimport Surface from './Surface';\nimport { withTheme } from '../core/theming';\nimport { Theme } from '../types';\nimport { IconSource } from './Icon';\nimport MaterialCommunityIcon from './MaterialCommunityIcon';\n\ntype Props = React.ComponentPropsWithRef<typeof TextInput> & {\n  /**\n   * Accessibility label for the button. This is read by the screen reader when the user taps the button.\n   */\n  clearAccessibilityLabel?: string;\n  /**\n   * Accessibility label for the button. This is read by the screen reader when the user taps the button.\n   */\n  searchAccessibilityLabel?: string;\n  /**\n   * Hint text shown when the input is empty.\n   */\n  placeholder?: string;\n  /**\n   * The value of the text input.\n   */\n  value: string;\n  /**\n   * Icon name for the left icon button (see `onIconPress`).\n   */\n  icon?: IconSource;\n  /**\n   * Callback that is called when the text input's text changes.\n   */\n  onChangeText?: (query: string) => void;\n  /**\n   * Callback to execute if we want the left icon to act as button.\n   */\n  onIconPress?: () => void;\n  /**\n   * Set style of the TextInput component inside the searchbar\n   */\n  inputStyle?: StyleProp<TextStyle>;\n  style?: StyleProp<ViewStyle>;\n\n  /**\n   * @optional\n   */\n  theme: Theme;\n  /**\n   * Custom color for icon, default will be derived from theme\n   */\n  iconColor?: string;\n  /**\n   * Custom icon for clear button, default will be icon close\n   */\n  clearIcon?: IconSource;\n};\n\n/**\n * Searchbar is a simple input box where users can type search queries.\n *\n * <div class=\"screenshots\">\n *   <img class=\"medium\" src=\"screenshots/searchbar.png\" />\n * </div>\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { Searchbar } from 'react-native-paper';\n *\n * export default class MyComponent extends React.Component {\n *   state = {\n *     searchQuery: '',\n *   };\n *\n *   _onChangeSearch = query => this.setState({ searchQuery: query });\n *\n *   render() {\n *     const { searchQuery } = this.state;\n *     return (\n *       <Searchbar\n *         placeholder=\"Search\"\n *         onChangeText={this._onChangeSearch}\n *         value={searchQuery}\n *       />\n *     );\n *   }\n * }\n * ```\n */\nclass Searchbar extends React.Component<Props> {\n  static defaultProps = {\n    searchAccessibilityLabel: 'search',\n    clearAccessibilityLabel: 'clear',\n  };\n  private handleClearPress = () => {\n    this.clear();\n    this.props.onChangeText && this.props.onChangeText('');\n  };\n\n  private root: TextInput | undefined | null;\n\n  /**\n   * @internal\n   */ setNativeProps(args: Object) {\n    return this.root && this.root.setNativeProps(args);\n  }\n\n  /**\n   * Returns `true` if the input is currently focused, `false` otherwise.\n   */\n  isFocused() {\n    return this.root && this.root.isFocused();\n  }\n\n  /**\n   * Removes all text from the TextInput.\n   */\n  clear() {\n    return this.root && this.root.clear();\n  }\n\n  /**\n   * Focuses the input.\n   */\n  focus() {\n    return this.root && this.root.focus();\n  }\n\n  /**\n   * Removes focus from the input.\n   */\n  blur() {\n    return this.root && this.root.blur();\n  }\n\n  render() {\n    const {\n      clearAccessibilityLabel,\n      clearIcon,\n      icon,\n      iconColor: customIconColor,\n      inputStyle,\n      onIconPress,\n      placeholder,\n      searchAccessibilityLabel,\n      style,\n      theme,\n      value,\n      ...rest\n    } = this.props;\n    const { colors, roundness, dark, fonts } = theme;\n    const textColor = colors.text;\n    const font = fonts.regular;\n    const iconColor =\n      customIconColor ||\n      (dark\n        ? textColor\n        : color(textColor)\n            .alpha(0.54)\n            .rgb()\n            .string());\n    const rippleColor = color(textColor)\n      .alpha(0.32)\n      .rgb()\n      .string();\n\n    return (\n      <Surface\n        style={[\n          { borderRadius: roundness, elevation: 4 },\n          styles.container,\n          style,\n        ]}\n      >\n        <IconButton\n          accessibilityTraits=\"button\"\n          accessibilityComponentType=\"button\"\n          accessibilityRole=\"button\"\n          borderless\n          rippleColor={rippleColor}\n          onPress={onIconPress}\n          color={iconColor}\n          icon={\n            icon ||\n            (({ size, color }) => (\n              <MaterialCommunityIcon\n                name=\"magnify\"\n                color={color}\n                size={size}\n                direction={I18nManager.isRTL ? 'rtl' : 'ltr'}\n              />\n            ))\n          }\n          accessibilityLabel={searchAccessibilityLabel}\n        />\n        <TextInput\n          style={[styles.input, { color: textColor, ...font }, inputStyle]}\n          placeholder={placeholder || ''}\n          placeholderTextColor={colors.placeholder}\n          selectionColor={colors.primary}\n          underlineColorAndroid=\"transparent\"\n          returnKeyType=\"search\"\n          keyboardAppearance={dark ? 'dark' : 'light'}\n          accessibilityTraits=\"search\"\n          accessibilityRole=\"search\"\n          ref={c => {\n            this.root = c;\n          }}\n          value={value}\n          {...rest}\n        />\n        <IconButton\n          borderless\n          disabled={!value}\n          accessibilityLabel={clearAccessibilityLabel}\n          color={value ? iconColor : 'rgba(255, 255, 255, 0)'}\n          rippleColor={rippleColor}\n          onPress={this.handleClearPress}\n          icon={\n            clearIcon ||\n            (({ size, color }) => (\n              <MaterialCommunityIcon\n                name=\"close\"\n                color={color}\n                size={size}\n                direction={I18nManager.isRTL ? 'rtl' : 'ltr'}\n              />\n            ))\n          }\n          accessibilityTraits=\"button\"\n          accessibilityComponentType=\"button\"\n          accessibilityRole=\"button\"\n        />\n      </Surface>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  input: {\n    flex: 1,\n    fontSize: 18,\n    paddingLeft: 8,\n    alignSelf: 'stretch',\n    textAlign: I18nManager.isRTL ? 'right' : 'left',\n    minWidth: 0,\n  },\n});\n\nexport default withTheme(Searchbar);\n"]}